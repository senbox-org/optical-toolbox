<!--
  ~ Copyright (C) 2016 Brockmann Consult GmbH (info@brockmann-consult.de)
  ~
  ~ This program is free software; you can redistribute it and/or modify it
  ~ under the terms of the GNU General Public License as published by the Free
  ~ Software Foundation; either version 3 of the License, or (at your option)
  ~ any later version.
  ~ This program is distributed in the hope that it will be useful, but WITHOUT
  ~ ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  ~ FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
  ~ more details.
  ~
  ~ You should have received a copy of the GNU General Public License along
  ~ with this program; if not, see http://www.gnu.org/licenses/
  -->

<html>
<head>
    <title>OWT Classification Processor</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <link rel="stylesheet" href="style.css">
</head>

<body>

<table class="header">
    <tr class="header">
        <td class="header">Algorithm Specification</td>
        <td class="header" align="right"><img src="images/snap_header.jpg" border=0></td>
    </tr>
</table>

<h3>Algorithm Specification</h3>
<p>
    The optical water type classification (OWT) tool is an adaptation of a spectral based optical pre-classification
    scheme (Moore et al., 2001) that calculates clusters from in-situ spectra. These spectra have been collected by
    different users from all over the world (University of New Hampshire and NASA's SeaBass in USA and CEDEX in Spain)
    and by partners and advisors of the EU- GLaSS and the ESA DUE CoastColour projects. The tool assigns the water type
    class that corresponds to the best match between the remotely sensed and the in situ spectrum. Moore et al. (2001,
    2014) designed a fuzzy logic spectral classification scheme that was adapted for coastal waters and lakes. In situ
    hyperspectral data were used to characterize optically distinct water classes a priori. The aggregated data come
    from multiple sources and covers a wide range of concentrations, also for colour dissolved organic matter (CDOM) and
    suspended sediments (SPM).
</p>


<h3>Spectra of OWT Types</h3>
<p>In the following table the spectra of the different types are listed. Currently there are 5 methods that lead to 5
    different OWT classifications. The spectra represent the reflectance means of the clusters to be used for the
    classification. As an example the GLASS_6C type is explained here in more detail.
    The GLASS_6C class 1 is representative of clear water slightly affected by chlorophyll pigments (peak in around band
    550 nm). Chlorophyll dominated waters with increase in the pigment concentration are represented by class 1, class 3
    and class 4. Classes 5 and 6 transition to bright sediment dominated waters. Class 2 waters are relatively dark in
    the whole spectrum and occur in peatlands with high humic (CDOM) absorption.

</p>
<div align="center">
    <table width="800" style="border:none;padding: 0" cellspacing="0" cellpadding="0" border="0">
        <tr>
            <td colspan="2">
                <font size="+1"><b>COASTAL</b></font>
            </td>
        </tr>
        <tr>
            <td><p>
                This type should be primarily used, as the name suggests, in coastal areas. It contains a classification
                with a maximum of 16 classes and represents a wide range of coastal water conditions. These conditions
                are not unique to any particular region. The clusters are representations of averaged conditions
                governed by the optical properties of the water column. The last 8 classes are combined into one during
                the processing, therefore the result has only 9 different classes. <br>
                This type needs the following wavelengths: 410, 443, 490, 510, 555
            </p></td>
            <td><img src="images/OWT_TYPE_COASTAL_Spectra.png" border=0></td>
        <tr>
            <td colspan="2">
                <font size="+1"><b>INLAND</b></font>
            </td>
        </tr>
        <tr>
            <td><p>
                This type is intended for the use with rivers and lakes, but it also contains in situ coastal data as
                input. The maximum number of clusters is 7. The clusters are not unique to any particular lake, region,
                or a result of differences between freshwater and marine waters. Marine and freshwater stations can be
                found in the same clusters. The OWTs show a pattern of increasing absorption in the blue/green for low
                red/NIR features (classes 1 through 3), followed by increasing peak magnitude at 555 nm (classes 4
                through 7). OWTs 1 through 5 show increasing chlorophyll-a concentrations, while OWTs 6 and 7 have lower
                mean chlorophyll-a values. <br>
                This type needs the following wavelengths: 412, 443, 490, 510, 560, 620, 665, 680, 709, 754
            </p></td>
            <td><img src="images/OWT_TYPE_INLAND_Spectra.png" border=0></td>
        </tr>
        <tr>
            <td colspan="2">
                <font size="+1"><b>GLASS_5C</b></font>
            </td>
        </tr>
        <tr>
            <td><p>
                This type is intended for the use with lakes and was developed in the frame of the EU-GLaSS project. The
                in situ reflectance used to train the fuzzy classifier come exclusively from lake waters, which marks
                the distance with the INLAND option. The water composition of the lakes has a higher mix and includes
                many CDOM samples from Finnish lakes. Only 5 clusters are considered as the optimal number of classes.
                The classes are sorted purely on remote sensing reflectance distribution and are representations of
                optical conditions governed by the total absorption and scattering properties (IOPs). The wavelength
                dependency gives clues for the interpretation: from chlorophyll_a absorbing dominant waters to higher
                turbid waters due to the increase in the sediment load. <br>
                This type needs the following wavelengths: 442.6, 489.9, 509.8, 559.7, 619.6, 664.6, 680.8, 708.3, 753.4
            </p></td>
            <td><img src="images/OWT_TYPE_GLASS_5C_Spectra.png" border=0></td>
        <tr>
            <td colspan="2">
                <font size="+1"><b>GLASS_6C</b></font>
            </td>
        </tr>
        <tr>
            <td><p>
                This type is intended for the use with lakes and was developed in the frame of the EU-GLaSS project. The
                in situ reflectance used to train the fuzzy classifier come exclusively from lake waters, which marks
                the distance with the INLAND option. The water composition of the lakes has a higher mix and includes
                many CDOM samples from Finnish lakes. Here 6 clusters are considered as the optimal number of classes.
                The classes are sorted purely on remote sensing reflectance distribution and are representations of
                optical conditions governed by the total absorption and scattering properties (IOPs). The wavelength
                dependency gives clues for the interpretation: from chlorophyll_a absorbing dominant waters to higher
                turbid waters due to the increase in the sediment load. <br>
                This type needs the following wavelengths: 442.6, 489.9, 509.8, 559.7, 619.6, 664.6, 680.8, 708.3, 753.4
            </p></td>
            <td><img src="images/OWT_TYPE_GLASS_6C_Spectra.png" border=0></td>
        </tr>
        <tr>
            <td colspan="2">
                <font size="+1"><b>GLASS_6C_NORMALISED</b></font>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    This type is intended for the use with lakes and was developed in the frame of the EU-GLaSS project.
                    Thein situ reflectance used to train the fuzzy classifier come exclusively from lake waters, which
                    marks the distance with the INLAND option. The water composition of the lakes has a higher mix and
                    includes many CDOM samples from Finnish lakes. Here 6 clusters are considered as the optimal number
                    of
                    classes.
                    The classes are sorted purely on remote sensing reflectance distribution and are representations of
                    optical conditions governed by the total absorption and scattering properties (IOPs). The wavelength
                    dependency gives clues for the interpretation: from chlorophyll_a absorbing dominant waters to
                    higher turbid waters due to the increase in the sediment load. The normalised classification shows
                    different results than the 6C because the reflectance values were normalised integrating the area
                    under the
                    curve.
                    This removes magnitude effects and focuses more on the spectral shape. <br>
                    This type needs the following wavelengths: 442.6, 489.9, 509.8, 559.7, 619.6, 664.6, 680.8, 708.3,
                    753.4
                </p></td>
            <td><img src="images/OWT_TYPE_GLASS_6C_NORMALISED_Spectra.png" border=0></td>
        </tr>
    </table>
</div>

<h3>References</h3>
<p class="i1">
    <b>An Optical Classification Tool for Global Lake Waters<br>
        M. A. Eleveld, A. B. Ruescas , A. Hommersom , S. W. M. Peters and C. Brockmann<br></b>
    <object classid="java:eu.esa.snap.netbeans.javahelp.BrowserDisplayer">
        <param name="content" value="http://dx.doi.org/10.3390/rs9050420">
        <param name="text" value="<html><u>https://www.mdpi.com/2072-4292/9/5/420</u></html>">
        <param name="textFontSize" value="bigger">
    </object>

    <br><br>

    <b>A fuzzy logic classification scheme for selecting and blending ocean color algorithms<br>
        Moore, T. S., Campbell J. W., Feng, H. (2001)<br></b>
    <object classid="java:eu.esa.snap.netbeans.javahelp.BrowserDisplayer">
        <param name="content"
               value="https://www.researchgate.net/publication/3202679_A_fuzzy_logic_classification_scheme_for_selecting_and_blending_satellite_ocean_color_algorithms_IEEE_Transactions_on_Geoscience_and_Remote_Sensing_39_1764-1776">
        <param name="text"
               value="<html><u>IEEE Transactions on Geoscience and Remote Sensing 39(8): 1764-1776</u></html>">
        <param name="textFontSize" value="bigger">
    </object>

    <br><br>

    <b>An optical water type framework for selecting and blending retrievals from bio-optical algorithms in lakes
        and coastal waters<br>
        Moore, T. S., Dowell, M. D., Bradt, S., Ruiz Verdu, A. (2014)<br></b>
    <object classid="java:eu.esa.snap.netbeans.javahelp.BrowserDisplayer">
        <param name="content"
               value="https://www.sciencedirect.com/science/article/abs/pii/S0034425713004434?via%3Dihub">
        <param name="text" value="<html><u>Remote Sensing of Environment</u></html>">
        <param name="textFontSize" value="bigger">
    </object>

    <br><br>

    <b>GLaSS Deliverable 3.3 2014 - Optical pre-classification method<br>
        Marieke A. Eleveld, Ana Ruescas, Annelies Hommersom (VU/VUmc, BC, WI)<br></b>
    <object classid="java:eu.esa.snap.netbeans.javahelp.BrowserDisplayer">
        <param name="content" value="https://step.esa.int/docs/extra/GLaSS-D3.3.pdf">
        <param name="text" value="<html><u>https://step.esa.int/docs/extra/GLaSS-D3.3.pdf</u></html>">
        <param name="textFontSize" value="bigger">
    </object>

</p>

<hr>
</body>
</html>
